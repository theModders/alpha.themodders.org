<title>Gothic-themed background picture</title>

<meta name="theme-color" content="#000000">

<style>
	:root {
		--background-color-button: #1c1d21f2;
    	--background-color-elevated: #1c1d21f2;
	}
	@supports (backdrop-filter: blur(12px)) or (-webkit-backdrop-filter: blur(12px)) {
		:root {
			--background-color-button: #e0eaff1f;
			--background-color-elevated: #e0eaff1a;
		}
	}
	body {
		background: url(/client/images/wallpaper.jpg);
		background-size: cover;
		background-position: center;
		--background-color: black;
	}
	.thread > .message {
		position: relative;
	}
	.thread > .message.original {
		background: #000000bd;
	}
	.blur-wrapper {
		clip: rect(0, auto, auto, 0);
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1;
	}
	.blur-wrapper > .blur {
		background: url(/client/images/wallpaper-blur.jpg);
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
		background-size: cover;
		background-attachment: fixed;
		background-position: center;
		background-repeat: no-repeat;
	}
</style>

<script>
	function blurBackground(element) {
		const blurWrapper = document.createElement("div");
		blurWrapper.className = "blur-wrapper";
		element.appendChild(blurWrapper);

		const blur = document.createElement("div");
		blur.className = "blur";
		blurWrapper.appendChild(blur);
	}
	const messages = Array.from(document.querySelectorAll(".thread > .message"));
	for (var message of messages) {
		blurBackground(message);
	}
</script>